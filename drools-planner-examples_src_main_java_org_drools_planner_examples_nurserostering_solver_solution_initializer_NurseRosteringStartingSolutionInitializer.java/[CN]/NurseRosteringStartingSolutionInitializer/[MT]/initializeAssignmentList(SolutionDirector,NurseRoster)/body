{
  List<Employee> employeeList=nurseRoster.getEmployeeList();
  WorkingMemory workingMemory=solutionDirector.getWorkingMemory();
  List<Assignment> assignmentList=createAssignmentList(nurseRoster);
  for (  Assignment assignment : assignmentList) {
    FactHandle assignmentHandle=null;
    Score bestScore=DefaultHardAndSoftScore.valueOf(Integer.MIN_VALUE,Integer.MIN_VALUE);
    Employee bestEmployee=null;
    for (    Employee employee : employeeList) {
      assignment.setEmployee(employee);
      if (assignmentHandle == null) {
        assignmentHandle=workingMemory.insert(assignment);
      }
 else {
        workingMemory.update(assignmentHandle,assignment);
      }
      Score score=solutionDirector.calculateScoreFromWorkingMemory();
      if (score.compareTo(bestScore) > 0) {
        bestScore=score;
        bestEmployee=employee;
      }
    }
    if (bestEmployee == null) {
      throw new IllegalStateException("The bestEmployee (" + bestEmployee + ") cannot be null.");
    }
    assignment.setEmployee(bestEmployee);
    workingMemory.update(assignmentHandle,assignment);
    logger.debug("    Assignment ({}) initialized for starting solution.",assignment);
  }
  Collections.sort(assignmentList,new PersistableIdComparator());
  nurseRoster.setAssignmentList(assignmentList);
}
