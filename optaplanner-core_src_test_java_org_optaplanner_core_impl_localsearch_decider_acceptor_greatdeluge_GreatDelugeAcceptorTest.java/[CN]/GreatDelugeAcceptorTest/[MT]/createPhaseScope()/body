{
  DefaultSolverScope solverScope=new DefaultSolverScope();
  LocalSearchSolverPhaseScope phaseScope=new LocalSearchSolverPhaseScope(solverScope);
  DroolsScoreDirectorFactory scoreDirectorFactory=new DroolsScoreDirectorFactory();
  scoreDirectorFactory.setSolutionDescriptor(TestdataSolution.buildSolutionDescriptor());
  scoreDirectorFactory.setScoreDefinition(new SimpleScoreDefinition());
  solverScope.setScoreDirector(scoreDirectorFactory.buildScoreDirector());
  solverScope.setWorkingRandom(new Random(){
    public double nextDouble(){
      return 0.2;
    }
  }
);
  solverScope.setBestScore(SimpleScore.valueOf(-1000));
  LocalSearchStepScope lastCompletedStepScope=new LocalSearchStepScope(phaseScope,-1);
  lastCompletedStepScope.setScore(SimpleScore.valueOf(-1000));
  phaseScope.setLastCompletedStepScope(lastCompletedStepScope);
  return phaseScope;
}
