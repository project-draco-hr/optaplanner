{
  if (workingMemory != null) {
    workingMemory.dispose();
  }
  workingMemory=getRuleBase().newStatefulSession();
  workingScoreHolder=getScoreDefinition().buildScoreHolder();
  workingMemory.setGlobal(GLOBAL_SCORE_HOLDER_KEY,workingScoreHolder);
  Collection<Object> workingFacts=getWorkingFacts();
  for (  Object fact : workingFacts) {
    workingMemory.insert(fact);
  }
}
