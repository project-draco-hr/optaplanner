{
  KieSession newKieSession=originalKieSession.getKieBase().newKieSession();
  for (  String globalKey : originalKieSession.getGlobals().getGlobalKeys()) {
    newKieSession.setGlobal(globalKey,originalKieSession.getGlobal(globalKey));
  }
  if (scoreDefinition != null) {
    ScoreHolder sh=scoreDefinition.buildScoreHolder(constraintMatchEnabledPreference);
    newKieSession.setGlobal(DroolsScoreDirector.GLOBAL_SCORE_HOLDER_KEY,sh);
  }
  return newKieSession;
}
