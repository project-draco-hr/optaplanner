{
  File[] inputFiles=inputDir.listFiles();
  if (inputFiles == null) {
    throw new IllegalArgumentException("The input directory  (" + inputDir + ") does not exist.");
  }
  Arrays.sort(inputFiles);
  for (  File inputFile : inputFiles) {
    String inputFileName=inputFile.getName();
    if (inputFileName.endsWith(".xml")) {
      logger.info("Solving {}",inputFileName);
      NurseRoster startingSolution=(NurseRoster)importer.readSolution(inputFile);
      solver.setStartingSolution(startingSolution);
      solver.solve();
      NurseRoster bestSolution=(NurseRoster)solver.getBestSolution();
      File outputFile=new File(outputDir,inputFileName.substring(0,inputFileName.length() - 4) + "_geoffrey_de_smet.xml");
      exporter.writeSolution(bestSolution,outputFile);
    }
  }
  logger.info("Done");
}
