{
  super.stepEnded(customStepScope);
  boolean bestScoreImproved=customStepScope.getBestScoreImproved();
  if (forceUpdateBestSolution && !bestScoreImproved) {
    bestSolutionRecaller.updateBestSolution(customStepScope.getPhaseScope().getSolverScope(),customStepScope.createOrGetClonedSolution());
  }
  CustomSolverPhaseScope customSolverPhaseScope=customStepScope.getPhaseScope();
  if (logger.isDebugEnabled()) {
    long timeMillisSpend=customSolverPhaseScope.calculateSolverTimeMillisSpend();
    logger.debug("    Step index ({}), time spend ({}), score ({}), {} best score ({}).",new Object[]{customStepScope.getStepIndex(),timeMillisSpend,customStepScope.getScore(),bestScoreImproved ? "new" : (forceUpdateBestSolution ? "forced" : "   "),customSolverPhaseScope.getBestScore()});
  }
}
