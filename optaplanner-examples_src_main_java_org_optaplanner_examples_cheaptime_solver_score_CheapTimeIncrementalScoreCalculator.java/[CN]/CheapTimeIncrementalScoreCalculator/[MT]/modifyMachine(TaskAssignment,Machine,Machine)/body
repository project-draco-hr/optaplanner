{
  if (ObjectUtils.equals(oldMachine,newMachine)) {
    return;
  }
  Integer startPeriod=taskAssignment.getStartPeriod();
  if (startPeriod == null) {
    return;
  }
  Integer endPeriod=taskAssignment.getEndPeriod();
  if (oldMachine != null) {
    List<MachinePeriodPart> machinePeriodList=machinePeriodListMap.get(oldMachine);
    retractRange(taskAssignment,machinePeriodList,startPeriod,endPeriod,false);
  }
  if (newMachine != null) {
    List<MachinePeriodPart> machinePeriodList=machinePeriodListMap.get(newMachine);
    insertRange(taskAssignment,machinePeriodList,startPeriod,endPeriod,false);
  }
}
