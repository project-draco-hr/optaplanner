{
  Random random=mock(Random.class);
  NearbyRandom nearbyRandom=new BetaDistributionNearbyRandom(1.0,1.0);
  double roundingConstant=0.000001;
  for (int i=0; i < 500; i++) {
    when(random.nextDouble()).thenReturn(i / 500.0 + roundingConstant);
    assertEquals(i,nearbyRandom.nextInt(random,500));
  }
}
