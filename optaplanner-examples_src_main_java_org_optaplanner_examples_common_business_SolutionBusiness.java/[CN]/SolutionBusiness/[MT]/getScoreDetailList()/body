{
  if (!(guiScoreDirector instanceof DroolsScoreDirector)) {
    return null;
  }
  Map<String,ScoreDetail> scoreDetailMap=new HashMap<String,ScoreDetail>();
  KieSession kieSession=((DroolsScoreDirector)guiScoreDirector).getKieSession();
  if (kieSession == null) {
    return Collections.emptyList();
  }
  Collection<ConstraintOccurrence> constraintOccurrences=(Collection<ConstraintOccurrence>)kieSession.getObjects(new ClassObjectFilter(ConstraintOccurrence.class));
  for (  ConstraintOccurrence constraintOccurrence : constraintOccurrences) {
    ScoreDetail scoreDetail=scoreDetailMap.get(constraintOccurrence.getRuleId());
    if (scoreDetail == null) {
      scoreDetail=new ScoreDetail(constraintOccurrence.getRuleId(),constraintOccurrence.getConstraintType());
      scoreDetailMap.put(constraintOccurrence.getRuleId(),scoreDetail);
    }
    scoreDetail.addConstraintOccurrence(constraintOccurrence);
  }
  List<ScoreDetail> scoreDetailList=new ArrayList<ScoreDetail>(scoreDetailMap.values());
  Collections.sort(scoreDetailList);
  return scoreDetailList;
}
