{
  WorkingMemory workingMemory=solutionDirector.getWorkingMemory();
  Journey changingJourney=(Journey)planningEntity;
  Journey oldPreviousJourney=(Journey)oldValue;
  Journey newPreviousJourney=(Journey)newValue;
  Journey oldNextJourney=changingJourney.getNextJourney();
  oldPreviousJourney.setNextJourney(oldNextJourney);
  workingMemory.update(workingMemory.getFactHandle(oldPreviousJourney),oldPreviousJourney);
  oldNextJourney.setPreviousJourney(oldPreviousJourney);
  workingMemory.update(workingMemory.getFactHandle(oldNextJourney),oldNextJourney);
  Journey newNextJourney=newPreviousJourney.getNextJourney();
  newNextJourney.setPreviousJourney(changingJourney);
  workingMemory.update(workingMemory.getFactHandle(newNextJourney),newNextJourney);
  changingJourney.setNextJourney(newNextJourney);
  workingMemory.update(workingMemory.getFactHandle(changingJourney),changingJourney);
  newPreviousJourney.setNextJourney(changingJourney);
  workingMemory.update(workingMemory.getFactHandle(newPreviousJourney),newPreviousJourney);
}
