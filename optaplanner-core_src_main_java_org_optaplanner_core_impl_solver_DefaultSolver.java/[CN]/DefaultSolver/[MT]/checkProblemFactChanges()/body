{
  BlockingQueue<ProblemFactChange> problemFactChangeQueue=basicPlumbingTermination.getProblemFactChangeQueue();
  if (problemFactChangeQueue.isEmpty()) {
    return false;
  }
  solverScope.setWorkingSolutionFromBestSolution();
  Score score=null;
  int stepIndex=0;
  ProblemFactChange problemFactChange=problemFactChangeQueue.poll();
  while (problemFactChange != null) {
    score=doProblemFactChange(problemFactChange,stepIndex);
    stepIndex++;
    problemFactChange=problemFactChangeQueue.poll();
  }
  Solution newBestSolution=solverScope.getScoreDirector().cloneWorkingSolution();
  int newBestUninitializedVariableCount=solverScope.getSolutionDescriptor().countUninitializedVariables(newBestSolution);
  bestSolutionRecaller.updateBestSolution(solverScope,newBestSolution,newBestUninitializedVariableCount);
  logger.info("Real-time problem fact changes done: step total ({}), new {} best score ({}).",stepIndex,(newBestUninitializedVariableCount <= 0 ? "initialized" : "uninitialized"),score);
  return true;
}
