{
  SolverConfig config=new SolverConfig();
  config.setEnvironmentMode(EnvironmentMode.REPRODUCIBLE);
  config.setSolutionClass(NQueens.class);
  config.setEntityClassList(Collections.<Class<?>>singletonList(Queen.class));
  config.setScoreDirectorFactoryConfig(new ScoreDirectorFactoryConfig());
  config.getScoreDirectorFactoryConfig().setScoreDefinitionType(ScoreDefinitionType.SIMPLE);
  config.getScoreDirectorFactoryConfig().setIncrementalScoreCalculatorClass(NQueensAdvancedIncrementalScoreCalculator.class);
  config.setTerminationConfig(new TerminationConfig());
  config.getTerminationConfig().setBestScoreLimit("0");
  ConstructionHeuristicPhaseConfig chConfig=new ConstructionHeuristicPhaseConfig();
  chConfig.setConstructionHeuristicType(constructionHeuristicType);
  chConfig.setEntitySorterManner(entitySorterManner);
  chConfig.setValueSorterManner(valueSorterManner);
  config.setPhaseConfigList(Collections.<PhaseConfig>singletonList(chConfig));
  NQueensGenerator generator=new NQueensGenerator();
  NQueens solution=generator.createNQueens(8);
  QueenCoordinatesStepListener listener=new QueenCoordinatesStepListener();
  DefaultSolver solver=(DefaultSolver)config.buildSolver();
  solver.addPhaseLifecycleListener(listener);
  solver.solve(solution);
  NQueens result=(NQueens)solver.getBestSolution();
  assertNotNull(result);
  assertCoordinates(expectedCoordinates,listener.getCoordinates());
}
