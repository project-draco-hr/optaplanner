{
  PropertyDescriptor[] propertyDescriptors=planningEntityBeanInfo.getPropertyDescriptors();
  planningVariableDescriptorMap=new LinkedHashMap<String,PlanningVariableDescriptor>(propertyDescriptors.length);
  boolean noPlanningVariableAnnotation=true;
  for (  PropertyDescriptor propertyDescriptor : propertyDescriptors) {
    Method propertyGetter=propertyDescriptor.getReadMethod();
    if (propertyGetter != null && propertyGetter.isAnnotationPresent(PlanningVariable.class)) {
      noPlanningVariableAnnotation=false;
      if (propertyDescriptor.getWriteMethod() == null) {
        throw new IllegalStateException("The planningEntityClass (" + planningEntityClass + ") has a PlanningVariable annotated property ("+ propertyDescriptor.getName()+ ") that should have a setter.");
      }
      PlanningVariableDescriptor planningVariableDescriptor=new PlanningVariableDescriptor(this,propertyDescriptor);
      planningVariableDescriptorMap.put(propertyDescriptor.getName(),planningVariableDescriptor);
      planningVariableDescriptor.processAnnotations();
    }
  }
  if (noPlanningVariableAnnotation) {
    throw new IllegalStateException("The planningEntityClass (" + planningEntityClass + ") should have at least 1 getter with a PlanningVariable annotation.");
  }
}
