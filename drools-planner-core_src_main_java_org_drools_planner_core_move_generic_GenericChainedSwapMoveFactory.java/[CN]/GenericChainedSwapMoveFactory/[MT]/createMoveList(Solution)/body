{
  List<Move> moveList=new ArrayList<Move>();
  List<Object> entityList=solutionDescriptor.getPlanningEntityList(solution);
  for (ListIterator<Object> leftIt=entityList.listIterator(); leftIt.hasNext(); ) {
    Object leftEntity=leftIt.next();
    PlanningEntityDescriptor leftEntityDescriptor=solutionDescriptor.getPlanningEntityDescriptor(leftEntity.getClass());
    Collection<PlanningVariableDescriptor> variableDescriptors=leftEntityDescriptor.getPlanningVariableDescriptors();
    for (ListIterator<Object> rightIt=entityList.listIterator(leftIt.nextIndex()); rightIt.hasNext(); ) {
      Object rightEntity=rightIt.next();
      PlanningEntityDescriptor rightEntityDescriptor=solutionDescriptor.getPlanningEntityDescriptor(leftEntity.getClass());
      if (leftEntityDescriptor.getPlanningEntityClass().equals(rightEntityDescriptor.getPlanningEntityClass())) {
        moveList.add(new GenericChainedSwapMove(variableDescriptors,leftEntity,rightEntity));
      }
    }
  }
  return moveList;
}
