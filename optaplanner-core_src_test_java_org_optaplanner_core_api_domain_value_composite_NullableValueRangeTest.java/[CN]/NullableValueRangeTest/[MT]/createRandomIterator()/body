{
  Random workingRandom=mock(Random.class);
  when(workingRandom.nextInt(anyInt())).thenReturn(4,0,4,0,4,0,0);
  assertElementsOfIterator(new NullableValueRange<Integer>(new ListValueRange<Integer>(Arrays.asList(0,2,5))).createRandomIterator(workingRandom),null,0);
  assertElementsOfIterator(new NullableValueRange<Integer>(new ListValueRange<Integer>(Arrays.asList(100,120,5))).createRandomIterator(workingRandom),null,100);
  assertElementsOfIterator(new NullableValueRange<Integer>(new ListValueRange<Integer>(Arrays.asList(-15,25,0))).createRandomIterator(workingRandom),null,-15);
  assertElementsOfIterator(new NullableValueRange<String>(new ListValueRange<String>(Arrays.asList("b","z","a"))).createRandomIterator(workingRandom),null,"b");
  assertElementsOfIterator(new NullableValueRange<String>(new ListValueRange<String>(Collections.<String>emptyList())).createRandomIterator(workingRandom),null);
}
