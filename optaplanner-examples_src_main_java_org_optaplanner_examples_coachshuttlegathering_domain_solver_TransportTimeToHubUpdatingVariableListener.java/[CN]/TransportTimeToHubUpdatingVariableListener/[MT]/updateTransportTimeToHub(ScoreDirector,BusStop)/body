{
  Bus bus=sourceStop.getBus();
  Integer transportTimeToHub;
  if (bus == null) {
    transportTimeToHub=null;
  }
 else {
    StopOrHub next=sourceStop.getNextStop();
    if (next == null) {
      next=bus.getDestination();
      if (next instanceof BusStop && ((BusStop)next).getBus() instanceof Shuttle) {
        transportTimeToHub=null;
      }
 else {
        transportTimeToHub=(next == null) ? null : next.getTransportTimeToHub();
      }
    }
 else {
      transportTimeToHub=next.getTransportTimeToHub();
    }
    if (transportTimeToHub != null) {
      transportTimeToHub+=bus.getDurationFromTo(sourceStop.getLocation(),next.getLocation());
    }
  }
  updateTransportTime(scoreDirector,sourceStop,bus,transportTimeToHub);
}
