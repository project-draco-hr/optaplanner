{
  Forager forager=new AcceptedForager(PickEarlyType.NEVER,Integer.MAX_VALUE);
  LocalSearchSolverScope localSearchSolverScope=createLocalSearchSolverScope();
  forager.solvingStarted(localSearchSolverScope);
  StepScope stepScope=createStepScope(localSearchSolverScope);
  forager.beforeDeciding(stepScope);
  MoveScope a=createMoveScope(stepScope,DefaultSimpleScore.valueOf(-20),30.0);
  MoveScope b=createMoveScope(stepScope,DefaultSimpleScore.valueOf(-1),9.0);
  MoveScope c=createMoveScope(stepScope,DefaultSimpleScore.valueOf(-20),20.0);
  MoveScope d=createMoveScope(stepScope,DefaultSimpleScore.valueOf(-300),50000.0);
  MoveScope e=createMoveScope(stepScope,DefaultSimpleScore.valueOf(-1),1.0);
  forager.addMove(a);
  assertFalse(forager.isQuitEarly());
  forager.addMove(b);
  assertFalse(forager.isQuitEarly());
  forager.addMove(c);
  assertFalse(forager.isQuitEarly());
  forager.addMove(d);
  assertFalse(forager.isQuitEarly());
  forager.addMove(e);
  assertFalse(forager.isQuitEarly());
  MoveScope pickedScope=forager.pickMove(stepScope);
  assertSame(b,pickedScope);
  List<Move> topList=forager.getTopList(3);
  assertTrue(topList.contains(a.getMove()));
  assertTrue(topList.contains(b.getMove()));
  assertFalse(topList.contains(c.getMove()));
  assertFalse(topList.contains(d.getMove()));
  assertTrue(topList.contains(e.getMove()));
  forager.solvingEnded(localSearchSolverScope);
}
