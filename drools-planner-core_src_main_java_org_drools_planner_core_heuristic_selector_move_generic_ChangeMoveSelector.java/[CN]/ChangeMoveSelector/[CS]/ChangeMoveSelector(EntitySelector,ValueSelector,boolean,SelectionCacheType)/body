{
  this.entitySelector=entitySelector;
  this.valueSelector=valueSelector;
  this.randomSelection=randomSelection;
  this.cacheType=cacheType;
  PlanningVariableDescriptor variableDescriptor=valueSelector.getVariableDescriptor();
  if (variableDescriptor.isChained()) {
    throw new UnsupportedOperationException("The planningEntityClass (" + variableDescriptor.getPlanningEntityDescriptor().getPlanningEntityClass() + ")'s planningVariableDescriptor ("+ variableDescriptor.getVariableName()+ ") is chained and can therefor not use the moveSelector ("+ getClass()+ ").");
  }
  if (cacheType != SelectionCacheType.JUST_IN_TIME) {
    throw new UnsupportedOperationException();
  }
  solverPhaseLifecycleSupport.addEventListener(entitySelector);
  solverPhaseLifecycleSupport.addEventListener(valueSelector);
}
