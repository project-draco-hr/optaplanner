{
  int machineListSize=readIntegerValue();
  List<MrNeighborhood> neighborhoodList=new ArrayList<MrNeighborhood>(machineListSize);
  Map<Long,MrNeighborhood> idToNeighborhoodMap=new HashMap<Long,MrNeighborhood>(machineListSize);
  List<MrLocation> locationList=new ArrayList<MrLocation>(machineListSize);
  Map<Long,MrLocation> idToLocationMap=new HashMap<Long,MrLocation>(machineListSize);
  machineList=new ArrayList<MrMachine>(machineListSize);
  long machineId=0L;
  List<MrMachineCapacity> machineCapacityList=new ArrayList<MrMachineCapacity>(machineListSize * resourceListSize);
  long machineCapacityId=0L;
  List<MrMachineMoveCost> machineMoveCostList=new ArrayList<MrMachineMoveCost>(machineListSize * machineListSize);
  long machineMoveCostId=0L;
  for (int i=0; i < machineListSize; i++) {
    MrMachine machine=new MrMachine();
    machine.setId(machineId);
    machineList.add(machine);
    machineId++;
  }
  for (int i=0; i < machineListSize; i++) {
    MrMachine machine=machineList.get(i);
    String line=readStringValue();
    int moveCostOffset=2 + (resourceListSize * 2);
    String[] lineTokens=splitBySpace(line,moveCostOffset + machineListSize);
    long neighborhoodId=Long.parseLong(lineTokens[0]);
    MrNeighborhood neighborhood=idToNeighborhoodMap.get(neighborhoodId);
    if (neighborhood == null) {
      neighborhood=new MrNeighborhood();
      neighborhood.setId(neighborhoodId);
      neighborhoodList.add(neighborhood);
      idToNeighborhoodMap.put(neighborhoodId,neighborhood);
    }
    machine.setNeighborhood(neighborhood);
    long locationId=Long.parseLong(lineTokens[1]);
    MrLocation location=idToLocationMap.get(locationId);
    if (location == null) {
      location=new MrLocation();
      location.setId(locationId);
      locationList.add(location);
      idToLocationMap.put(locationId,location);
    }
    machine.setLocation(location);
    Map<MrResource,MrMachineCapacity> machineCapacityMap=new LinkedHashMap<MrResource,MrMachineCapacity>(resourceListSize);
    for (int j=0; j < resourceListSize; j++) {
      MrMachineCapacity machineCapacity=new MrMachineCapacity();
      machineCapacity.setId(machineCapacityId);
      machineCapacity.setMachine(machine);
      machineCapacity.setResource(resourceList.get(j));
      machineCapacity.setMaximumCapacity(Integer.parseInt(lineTokens[2 + j]));
      machineCapacity.setSafetyCapacity(Integer.parseInt(lineTokens[2 + resourceListSize + j]));
      machineCapacityList.add(machineCapacity);
      machineCapacityMap.put(resourceList.get(j),machineCapacity);
      machineCapacityId++;
    }
    machine.setMachineCapacityMap(machineCapacityMap);
    for (int j=0; j < machineListSize; j++) {
      MrMachineMoveCost machineMoveCost=new MrMachineMoveCost();
      machineMoveCost.setId(machineMoveCostId);
      machineMoveCost.setFromMachine(machine);
      machineMoveCost.setToMachine(machineList.get(j));
      machineMoveCost.setMoveCost(Integer.parseInt(lineTokens[moveCostOffset + j]));
      machineMoveCostList.add(machineMoveCost);
      machineMoveCostId++;
    }
  }
  machineReassignment.setNeighborhoodList(neighborhoodList);
  machineReassignment.setLocationList(locationList);
  machineReassignment.setMachineList(machineList);
  machineReassignment.setMachineCapacityList(machineCapacityList);
  machineReassignment.setMachineMoveCostList(machineMoveCostList);
}
