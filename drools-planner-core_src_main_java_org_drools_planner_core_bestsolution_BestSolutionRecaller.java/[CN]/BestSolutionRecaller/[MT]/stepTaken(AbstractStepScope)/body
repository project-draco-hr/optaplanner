{
  AbstractSolverScope abstractSolverScope=abstractStepScope.getAbstractSolverScope();
  Score newScore=abstractStepScope.getScore();
  Score bestScore=abstractSolverScope.getBestScore();
  boolean bestScoreImproved=bestScore == null || newScore.compareTo(bestScore) > 0;
  abstractStepScope.setBestScoreImproved(bestScoreImproved);
  if (bestScoreImproved) {
    abstractSolverScope.setBestSolutionStepIndex(abstractStepScope.getStepIndex());
    Solution newBestSolution=abstractStepScope.createOrGetClonedSolution();
    abstractSolverScope.setBestSolution(newBestSolution);
    abstractSolverScope.setBestScore(newBestSolution.getScore());
    solverEventSupport.fireBestSolutionChanged(newBestSolution);
  }
}
