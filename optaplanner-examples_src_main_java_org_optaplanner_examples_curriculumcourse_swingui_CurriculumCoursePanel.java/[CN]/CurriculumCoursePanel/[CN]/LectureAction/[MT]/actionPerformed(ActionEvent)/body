{
  JPanel listFieldsPanel=new JPanel(new GridLayout(3,2));
  listFieldsPanel.add(new JLabel("Period:"));
  List<Period> periodList=getCourseSchedule().getPeriodList();
  JComboBox<Period> periodListField=new JComboBox<Period>(periodList.toArray(new Period[periodList.size() + 1]));
  periodListField.setRenderer(new LabeledComboBoxRenderer());
  periodListField.setSelectedItem(lecture.getPeriod());
  listFieldsPanel.add(periodListField);
  listFieldsPanel.add(new JLabel("Room:"));
  List<Room> roomList=getCourseSchedule().getRoomList();
  JComboBox<Room> roomListField=new JComboBox<Room>(roomList.toArray(new Room[roomList.size() + 1]));
  roomListField.setRenderer(new LabeledComboBoxRenderer());
  roomListField.setSelectedItem(lecture.getRoom());
  listFieldsPanel.add(roomListField);
  listFieldsPanel.add(new JLabel("Locked:"));
  JCheckBox lockedField=new JCheckBox("immovable during planning");
  lockedField.setSelected(lecture.isLocked());
  listFieldsPanel.add(lockedField);
  int result=JOptionPane.showConfirmDialog(CurriculumCoursePanel.this.getRootPane(),listFieldsPanel,"Select period and room",JOptionPane.OK_CANCEL_OPTION);
  if (result == JOptionPane.OK_OPTION) {
    Period toPeriod=(Period)periodListField.getSelectedItem();
    if (lecture.getPeriod() != toPeriod) {
      solutionBusiness.doChangeMove(lecture,"period",toPeriod);
    }
    Room toRoom=(Room)roomListField.getSelectedItem();
    if (lecture.getRoom() != toRoom) {
      solutionBusiness.doChangeMove(lecture,"room",toRoom);
    }
    boolean toLocked=lockedField.isSelected();
    if (lecture.isLocked() != toLocked) {
      if (solutionBusiness.isSolving()) {
        logger.error("Not doing user change because the solver is solving.");
        return;
      }
      lecture.setLocked(toLocked);
    }
    solverAndPersistenceFrame.resetScreen();
  }
}
