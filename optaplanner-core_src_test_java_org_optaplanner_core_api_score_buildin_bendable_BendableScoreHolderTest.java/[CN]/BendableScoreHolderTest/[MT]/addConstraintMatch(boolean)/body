{
  BendableScoreHolder scoreHolder=new BendableScoreHolder(constraintMatchEnabled,1,2);
  scoreHolder.addHardConstraintMatch(createRuleContext("scoreRule1"),0,-1000);
  RuleContext ruleContext2=createRuleContext("scoreRule2");
  scoreHolder.addHardConstraintMatch(ruleContext2,0,-200);
  callUnMatch(ruleContext2);
  RuleContext ruleContext3=createRuleContext("scoreRule3");
  scoreHolder.addSoftConstraintMatch(ruleContext3,0,-30);
  scoreHolder.addSoftConstraintMatch(ruleContext3,0,-3);
  scoreHolder.addHardConstraintMatch(ruleContext3,0,-300);
  scoreHolder.addHardConstraintMatch(ruleContext3,0,-400);
  scoreHolder.addSoftConstraintMatch(createRuleContext("scoreRule4"),1,-4);
  RuleContext ruleContext5=createRuleContext("scoreRule5");
  scoreHolder.addHardConstraintMatch(ruleContext5,0,-1);
  scoreHolder.addSoftConstraintMatch(ruleContext5,0,-1);
  callUnMatch(ruleContext5,1);
  assertEquals(BendableScore.valueOf(new int[]{-1401},new int[]{-3,-4}),scoreHolder.extractScore());
  if (constraintMatchEnabled) {
    assertEquals(7,scoreHolder.getConstraintMatchTotals().size());
  }
}
