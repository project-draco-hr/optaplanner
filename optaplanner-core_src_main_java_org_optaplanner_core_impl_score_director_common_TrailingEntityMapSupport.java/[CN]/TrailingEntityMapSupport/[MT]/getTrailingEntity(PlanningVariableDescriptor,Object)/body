{
  Set<Object> trailingEntities=trailingEntitiesMap.get(chainedVariableDescriptor).get(planningValue);
  if (trailingEntities == null) {
    return null;
  }
  if (trailingEntities.size() > 1) {
    throw new IllegalStateException("The planningValue (" + planningValue + ") has multiple trailing entities ("+ trailingEntities+ ") pointing to it for chained planningVariable ("+ chainedVariableDescriptor.getVariableName()+ ").");
  }
  return trailingEntities.iterator().next();
}
