{
  CloudBalance cloudBalance=(CloudBalance)solution;
  Set<CloudComputer> deadCloudComputerSet=new LinkedHashSet<CloudComputer>(cloudComputerToPanelMap.keySet());
  deadCloudComputerSet.remove(null);
  for (  CloudComputer cloudComputer : cloudBalance.getComputerList()) {
    deadCloudComputerSet.remove(cloudComputer);
    CloudComputerPanel cloudComputerPanel=cloudComputerToPanelMap.get(cloudComputer);
    if (cloudComputerPanel == null) {
      cloudComputerPanel=new CloudComputerPanel(this,cloudComputer);
      computersPanel.add(cloudComputerPanel);
      cloudComputerToPanelMap.put(cloudComputer,cloudComputerPanel);
    }
  }
  Set<CloudProcess> deadCloudProcessSet=new LinkedHashSet<CloudProcess>(cloudProcessToPanelMap.keySet());
  for (  CloudProcess cloudProcess : cloudBalance.getProcessList()) {
    deadCloudProcessSet.remove(cloudProcess);
    CloudComputerPanel cloudComputerPanel=cloudProcessToPanelMap.get(cloudProcess);
    CloudComputer cloudComputer=cloudProcess.getComputer();
    if (cloudComputerPanel != null && !ObjectUtils.equals(cloudComputerPanel.getCloudComputer(),cloudComputer)) {
      cloudProcessToPanelMap.remove(cloudProcess);
      cloudComputerPanel.removeCloudProcess(cloudProcess);
      cloudComputerPanel=null;
    }
    if (cloudComputerPanel == null) {
      cloudComputerPanel=cloudComputerToPanelMap.get(cloudComputer);
      cloudComputerPanel.addCloudProcess(cloudProcess);
      cloudProcessToPanelMap.put(cloudProcess,cloudComputerPanel);
    }
  }
  for (  CloudProcess deadCloudProcess : deadCloudProcessSet) {
    CloudComputerPanel deadCloudComputerPanel=cloudProcessToPanelMap.remove(deadCloudProcess);
    deadCloudComputerPanel.removeCloudProcess(deadCloudProcess);
  }
  for (  CloudComputer deadCloudComputer : deadCloudComputerSet) {
    CloudComputerPanel deadCloudComputerPanel=cloudComputerToPanelMap.remove(deadCloudComputer);
    computersPanel.remove(deadCloudComputerPanel);
  }
  for (  CloudComputerPanel cloudComputerPanel : cloudComputerToPanelMap.values()) {
    cloudComputerPanel.update();
  }
}
