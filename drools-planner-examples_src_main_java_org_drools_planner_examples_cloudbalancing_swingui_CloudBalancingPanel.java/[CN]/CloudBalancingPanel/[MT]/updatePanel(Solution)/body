{
  CloudBalance cloudBalance=(CloudBalance)solution;
  Set<CloudComputer> deadCloudComputerSet=new LinkedHashSet<CloudComputer>(cloudComputerToPanelMap.keySet());
  deadCloudComputerSet.remove(null);
  for (  CloudComputer cloudComputer : ((CloudBalance)solution).getCloudComputerList()) {
    deadCloudComputerSet.remove(cloudComputer);
    CloudComputerPanel cloudComputerPanel=cloudComputerToPanelMap.get(cloudComputer);
    if (cloudComputerPanel == null) {
      cloudComputerPanel=new CloudComputerPanel(this,cloudComputer);
      computersPanel.add(cloudComputerPanel);
      cloudComputerToPanelMap.put(cloudComputer,cloudComputerPanel);
    }
  }
  Set<CloudProcessAssignment> deadCloudProcessAssignmentSet=new LinkedHashSet<CloudProcessAssignment>(cloudProcessAssignmentToPanelMap.keySet());
  for (  CloudProcessAssignment cloudProcessAssignment : cloudBalance.getCloudProcessAssignmentList()) {
    deadCloudProcessAssignmentSet.remove(cloudProcessAssignment);
    CloudComputerPanel cloudComputerPanel=cloudProcessAssignmentToPanelMap.get(cloudProcessAssignment);
    CloudComputer cloudComputer=cloudProcessAssignment.getCloudComputer();
    if (cloudComputerPanel != null && !ObjectUtils.equals(cloudComputerPanel.getCloudComputer(),cloudComputer)) {
      cloudProcessAssignmentToPanelMap.remove(cloudProcessAssignment);
      cloudComputerPanel.removeCloudProcessAssignment(cloudProcessAssignment);
      cloudComputerPanel=null;
    }
    if (cloudComputerPanel == null) {
      cloudComputerPanel=cloudComputerToPanelMap.get(cloudComputer);
      cloudComputerPanel.addCloudProcessAssignment(cloudProcessAssignment);
      cloudProcessAssignmentToPanelMap.put(cloudProcessAssignment,cloudComputerPanel);
    }
  }
  for (  CloudProcessAssignment deadCloudProcessAssignment : deadCloudProcessAssignmentSet) {
    CloudComputerPanel deadCloudComputerPanel=cloudProcessAssignmentToPanelMap.remove(deadCloudProcessAssignment);
    deadCloudComputerPanel.removeCloudProcessAssignment(deadCloudProcessAssignment);
  }
  for (  CloudComputer deadCloudComputer : deadCloudComputerSet) {
    CloudComputerPanel deadCloudComputerPanel=cloudComputerToPanelMap.remove(deadCloudComputer);
    computersPanel.remove(deadCloudComputerPanel);
  }
  for (  CloudComputerPanel cloudComputerPanel : cloudComputerToPanelMap.values()) {
    cloudComputerPanel.update();
  }
}
