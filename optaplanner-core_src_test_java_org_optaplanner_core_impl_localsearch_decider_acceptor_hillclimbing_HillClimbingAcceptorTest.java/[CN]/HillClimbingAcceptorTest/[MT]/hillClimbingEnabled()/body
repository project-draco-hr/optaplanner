{
  HillClimbingAcceptor acceptor=new HillClimbingAcceptor();
  DefaultSolverScope solverScope=new DefaultSolverScope();
  solverScope.setBestScore(SimpleScore.valueOf(-1000));
  LocalSearchPhaseScope phaseScope=new LocalSearchPhaseScope(solverScope);
  LocalSearchStepScope lastCompletedStepScope=new LocalSearchStepScope(phaseScope,-1);
  lastCompletedStepScope.setScore(SimpleScore.valueOf(-1000));
  phaseScope.setLastCompletedStepScope(lastCompletedStepScope);
  acceptor.phaseStarted(phaseScope);
  LocalSearchStepScope stepScope0=new LocalSearchStepScope(phaseScope);
  LocalSearchMoveScope moveScope0=buildMoveScope(stepScope0,-500);
  assertEquals(true,acceptor.isAccepted(buildMoveScope(stepScope0,-900)));
  assertEquals(true,acceptor.isAccepted(moveScope0));
  assertEquals(true,acceptor.isAccepted(buildMoveScope(stepScope0,-800)));
  assertEquals(false,acceptor.isAccepted(buildMoveScope(stepScope0,-2000)));
  assertEquals(true,acceptor.isAccepted(buildMoveScope(stepScope0,-1000)));
  assertEquals(true,acceptor.isAccepted(buildMoveScope(stepScope0,-900)));
  stepScope0.setStep(moveScope0.getMove());
  stepScope0.setScore(moveScope0.getScore());
  solverScope.setBestScore(moveScope0.getScore());
  acceptor.stepEnded(stepScope0);
  phaseScope.setLastCompletedStepScope(stepScope0);
  LocalSearchStepScope stepScope1=new LocalSearchStepScope(phaseScope);
  LocalSearchMoveScope moveScope1=buildMoveScope(stepScope1,600);
  assertEquals(false,acceptor.isAccepted(buildMoveScope(stepScope1,-900)));
  assertEquals(false,acceptor.isAccepted(buildMoveScope(stepScope1,-2000)));
  assertEquals(false,acceptor.isAccepted(buildMoveScope(stepScope1,-700)));
  assertEquals(false,acceptor.isAccepted(buildMoveScope(stepScope1,-1000)));
  assertEquals(true,acceptor.isAccepted(moveScope1));
  assertEquals(true,acceptor.isAccepted(buildMoveScope(stepScope1,-500)));
  assertEquals(false,acceptor.isAccepted(buildMoveScope(stepScope1,-501)));
  assertEquals(false,acceptor.isAccepted(buildMoveScope(stepScope0,-900)));
  stepScope1.setStep(moveScope1.getMove());
  stepScope1.setScore(moveScope1.getScore());
  acceptor.stepEnded(stepScope1);
  phaseScope.setLastCompletedStepScope(stepScope1);
  acceptor.phaseEnded(phaseScope);
}
