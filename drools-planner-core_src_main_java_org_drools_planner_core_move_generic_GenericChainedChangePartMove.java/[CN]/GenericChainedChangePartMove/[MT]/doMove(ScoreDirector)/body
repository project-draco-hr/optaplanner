{
  Object oldFirstPlanningValue=planningVariableDescriptor.getValue(firstEntity);
  if (oldTrailingEntity != null) {
    scoreDirector.beforeVariableChanged(oldTrailingEntity,planningVariableDescriptor.getVariableName());
    planningVariableDescriptor.setValue(oldTrailingEntity,oldFirstPlanningValue);
    scoreDirector.afterVariableChanged(oldTrailingEntity,planningVariableDescriptor.getVariableName());
  }
  for (  Object entity : entitiesSubChain) {
    scoreDirector.beforeVariableChanged(entity,planningVariableDescriptor.getVariableName());
  }
  planningVariableDescriptor.setValue(firstEntity,toPlanningValue);
  for (  Object entity : entitiesSubChain) {
    scoreDirector.afterVariableChanged(entity,planningVariableDescriptor.getVariableName());
  }
  if (newTrailingEntity != null) {
    scoreDirector.beforeVariableChanged(newTrailingEntity,planningVariableDescriptor.getVariableName());
    planningVariableDescriptor.setValue(newTrailingEntity,lastEntity);
    scoreDirector.afterVariableChanged(newTrailingEntity,planningVariableDescriptor.getVariableName());
  }
}
