{
  List<Iterator<Object>> iteratorList=new ArrayList<Iterator<Object>>(entityPropertyAccessorMap.size() + entityCollectionPropertyAccessorMap.size());
  for (  PropertyAccessor entityPropertyAccessor : entityPropertyAccessorMap.values()) {
    Object entity=extractEntity(entityPropertyAccessor,solution);
    if (entity != null) {
      iteratorList.add(Collections.singletonList(entity).iterator());
    }
  }
  for (  PropertyAccessor entityCollectionPropertyAccessor : entityCollectionPropertyAccessorMap.values()) {
    Collection<Object> entityCollection=extractEntityCollection(entityCollectionPropertyAccessor,solution);
    iteratorList.add(entityCollection.iterator());
  }
  return Iterators.concat(iteratorList.iterator());
}
