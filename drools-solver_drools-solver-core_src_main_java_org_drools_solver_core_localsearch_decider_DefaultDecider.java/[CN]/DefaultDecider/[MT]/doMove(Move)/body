{
  WorkingMemory workingMemory=localSearchSolver.getEvaluationHandler().getStatefulSession();
  Move undoMove=move.createUndoMove(workingMemory);
  move.doMove(workingMemory);
  processMove(move);
  undoMove.doMove(workingMemory);
  if (verifyUndoMoveIsUncorrupted) {
    double undoScore=localSearchSolver.getEvaluationHandler().fireAllRulesAndCalculateDecisionScore();
    if (undoScore != localSearchSolver.getStepScore()) {
      throw new IllegalStateException("Corrupted undo move (" + undoMove + ") received from move ("+ move+ ").");
    }
  }
}
