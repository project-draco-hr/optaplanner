{
  this.variableListenerMap=variableListenerMap;
  entityVariableListenerMap=new LinkedHashMap<EntityDescriptor,List<VariableListener>>(variableListenerMap.size());
  for (  Map.Entry<VariableDescriptor,List<VariableListener>> entry : variableListenerMap.entrySet()) {
    EntityDescriptor entityDescriptor=entry.getKey().getEntityDescriptor();
    List<VariableListener> variableListenerList=entry.getValue();
    List<VariableListener> entityVariableListenerList=entityVariableListenerMap.get(entityDescriptor);
    if (entityVariableListenerList == null) {
      entityVariableListenerList=new ArrayList<VariableListener>(variableListenerList);
      entityVariableListenerMap.put(entityDescriptor,entityVariableListenerList);
    }
 else {
      entityVariableListenerList.addAll(variableListenerList);
    }
  }
}
