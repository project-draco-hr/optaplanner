{
  TravelingSalesmanTour clone=new TravelingSalesmanTour();
  clone.id=id;
  clone.name=name;
  clone.cityList=cityList;
  clone.depotList=depotList;
  List<Journey> clonedJourneyList=new ArrayList<Journey>(journeyList.size());
  Map<Long,Journey> idToClonedJourneyMap=new HashMap<Long,Journey>(journeyList.size());
  for (  Journey journey : journeyList) {
    Journey clonedJourney=journey.clone();
    clonedJourneyList.add(clonedJourney);
    idToClonedJourneyMap.put(clonedJourney.getId(),clonedJourney);
  }
  for (  Journey clonedJourney : clonedJourneyList) {
    Terminal previousTerminal=clonedJourney.getPreviousTerminal();
    if (previousTerminal instanceof Journey) {
      Long previousJourneyId=((Journey)previousTerminal).getId();
      clonedJourney.setPreviousTerminal(idToClonedJourneyMap.get(previousJourneyId));
    }
  }
  clone.journeyList=clonedJourneyList;
  clone.score=score;
  return clone;
}
