{
  HardSoftBigDecimalScoreHolder scoreHolder=new HardSoftBigDecimalScoreHolder(constraintMatchEnabled);
  scoreHolder.addHardConstraintMatch(createRuleContext("scoreRule1"),new BigDecimal("-10.00"));
  RuleContext ruleContext2=createRuleContext("scoreRule2");
  scoreHolder.addHardConstraintMatch(ruleContext2,new BigDecimal("-2.00"));
  callUnMatch(ruleContext2);
  RuleContext ruleContext3=createRuleContext("scoreRule3");
  scoreHolder.addSoftConstraintMatch(ruleContext3,new BigDecimal("-0.30"));
  scoreHolder.addSoftConstraintMatch(ruleContext3,new BigDecimal("-0.03"));
  scoreHolder.addHardConstraintMatch(ruleContext3,new BigDecimal("-3.00"));
  scoreHolder.addHardConstraintMatch(ruleContext3,new BigDecimal("-4.00"));
  RuleContext ruleContext4=createRuleContext("scoreRule4");
  scoreHolder.addHardConstraintMatch(ruleContext4,new BigDecimal("-1.00"));
  scoreHolder.addSoftConstraintMatch(ruleContext4,new BigDecimal("-1.00"));
  callUnMatch(ruleContext4,1);
  assertEquals(HardSoftBigDecimalScore.valueOf(new BigDecimal("-15.00"),new BigDecimal("-0.03")),scoreHolder.extractScore());
  if (constraintMatchEnabled) {
    assertEquals(6,scoreHolder.getConstraintMatchTotals().size());
  }
}
