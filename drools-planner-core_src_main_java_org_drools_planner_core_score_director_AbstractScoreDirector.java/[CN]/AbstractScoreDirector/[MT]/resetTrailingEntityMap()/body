{
  if (hasChainedVariables) {
    List<Object> entityList=getSolutionDescriptor().getPlanningEntityList(workingSolution);
    for (    Map.Entry<PlanningVariableDescriptor,Map<Object,Set<Object>>> entry : chainedVariableToTrailingEntitiesMap.entrySet()) {
      entry.setValue(new IdentityHashMap<Object,Set<Object>>(entityList.size()));
    }
    for (    Object entity : entityList) {
      insertInTrailingEntityMap(entity);
    }
  }
}
