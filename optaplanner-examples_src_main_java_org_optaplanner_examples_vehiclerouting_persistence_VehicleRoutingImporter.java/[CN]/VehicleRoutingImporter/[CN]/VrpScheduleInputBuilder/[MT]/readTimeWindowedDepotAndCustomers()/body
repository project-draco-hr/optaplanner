{
  String line=bufferedReader.readLine();
  int locationListSizeEstimation=25;
  List<Location> locationList=new ArrayList<Location>(locationListSizeEstimation);
  depotList=new ArrayList<Depot>(1);
  List<Customer> customerList=new ArrayList<Customer>(locationListSizeEstimation);
  boolean first=true;
  while (line != null && !line.trim().isEmpty()) {
    String[] lineTokens=splitBySpacesOrTabs(line.trim(),7);
    long id=Long.parseLong(lineTokens[0]);
    Location location=new Location();
    location.setId(id);
    location.setLatitude(Double.parseDouble(lineTokens[1]));
    location.setLongitude(Double.parseDouble(lineTokens[2]));
    locationList.add(location);
    int demand=Integer.parseInt(lineTokens[3]);
    int milliReadyTime=Integer.parseInt(lineTokens[4]) * 1000;
    int milliDueTime=Integer.parseInt(lineTokens[5]) * 1000;
    int milliServiceDuration=Integer.parseInt(lineTokens[6]) * 1000;
    if (first) {
      TimeWindowedDepot depot=new TimeWindowedDepot();
      depot.setId(id);
      depot.setLocation(location);
      if (demand != 0) {
        throw new IllegalArgumentException("The depot with id (" + id + ") has a demand ("+ demand+ ").");
      }
      depot.setMilliReadyTime(milliReadyTime);
      depot.setMilliDueTime(milliDueTime);
      if (milliServiceDuration != 0) {
        throw new IllegalArgumentException("The depot with id (" + id + ") has a milliServiceDuration ("+ milliServiceDuration+ ").");
      }
      depotList.add(depot);
      first=false;
    }
 else {
      TimeWindowedCustomer customer=new TimeWindowedCustomer();
      customer.setId(id);
      customer.setLocation(location);
      customer.setDemand(demand);
      customer.setMilliReadyTime(milliReadyTime);
      customer.setMilliDueTime(milliDueTime);
      customer.setMilliServiceDuration(milliServiceDuration);
      if (demand != 0) {
        customerList.add(customer);
      }
    }
    line=bufferedReader.readLine();
  }
  schedule.setLocationList(locationList);
  schedule.setDepotList(depotList);
  schedule.setCustomerList(customerList);
}
