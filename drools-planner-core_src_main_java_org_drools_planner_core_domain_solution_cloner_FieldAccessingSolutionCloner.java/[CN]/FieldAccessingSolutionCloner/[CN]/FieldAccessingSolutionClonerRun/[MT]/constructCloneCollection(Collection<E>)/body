{
  if (originalCollection instanceof List) {
    if (originalCollection instanceof ArrayList) {
      return new ArrayList<E>(originalCollection.size());
    }
 else     if (originalCollection instanceof LinkedList) {
      return new LinkedList<E>();
    }
 else {
      return new ArrayList<E>(originalCollection.size());
    }
  }
  if (originalCollection instanceof Set) {
    if (originalCollection instanceof SortedSet) {
      Comparator setComparator=((SortedSet)originalCollection).comparator();
      return new TreeSet<E>(setComparator);
    }
 else     if (originalCollection instanceof LinkedHashSet) {
      return new LinkedHashSet<E>(originalCollection.size());
    }
 else     if (originalCollection instanceof HashSet) {
      return new HashSet<E>(originalCollection.size());
    }
 else {
      return new LinkedHashSet<E>(originalCollection.size());
    }
  }
 else {
    return new ArrayList<E>(originalCollection.size());
  }
}
