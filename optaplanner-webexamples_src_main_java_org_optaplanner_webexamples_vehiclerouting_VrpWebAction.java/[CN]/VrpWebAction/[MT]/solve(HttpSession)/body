{
  final Solver solver=(Solver)session.getAttribute(VrpSessionAttributeName.SOLVER);
  final VehicleRoutingSolution unsolvedSolution=(VehicleRoutingSolution)session.getAttribute(VrpSessionAttributeName.SHOWN_SOLUTION);
  solver.addEventListener(new SolverEventListener(){
    public void bestSolutionChanged(    BestSolutionChangedEvent event){
      VehicleRoutingSolution bestSolution=(VehicleRoutingSolution)event.getNewBestSolution();
      session.setAttribute(VrpSessionAttributeName.SHOWN_SOLUTION,bestSolution);
    }
  }
);
  solvingExecutor.submit(new Runnable(){
    public void run(){
      solver.solve(unsolvedSolution);
    }
  }
);
}
