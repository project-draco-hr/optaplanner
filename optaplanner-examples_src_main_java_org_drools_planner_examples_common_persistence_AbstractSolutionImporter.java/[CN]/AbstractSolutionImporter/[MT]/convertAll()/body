{
  File inputDir=getInputDir();
  File outputDir=getOutputDir();
  File[] inputFiles=inputDir.listFiles();
  if (inputFiles == null) {
    throw new IllegalArgumentException("Your working dir should be drools-planner-examples and contain: " + inputDir);
  }
  Arrays.sort(inputFiles);
  for (  File inputFile : inputFiles) {
    if (acceptInputFile(inputFile) && acceptInputFileDuringBulkConvert(inputFile)) {
      Solution solution=readSolution(inputFile);
      String inputFileName=inputFile.getName();
      String outputFileName=inputFileName.substring(0,inputFileName.length() - getInputFileSuffix().length()) + getOutputFileSuffix();
      File outputFile=new File(outputDir,outputFileName);
      solutionDao.writeSolution(solution,outputFile);
    }
  }
}
