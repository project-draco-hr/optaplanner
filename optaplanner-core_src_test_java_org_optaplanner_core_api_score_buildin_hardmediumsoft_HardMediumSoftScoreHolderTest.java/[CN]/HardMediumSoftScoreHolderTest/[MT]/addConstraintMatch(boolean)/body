{
  HardMediumSoftScoreHolder scoreHolder=new HardMediumSoftScoreHolder(constraintMatchEnabled);
  scoreHolder.addHardConstraintMatch(createRuleContext("scoreRule1"),-1000);
  RuleContext ruleContext2=createRuleContext("scoreRule2");
  scoreHolder.addHardConstraintMatch(ruleContext2,-200);
  callUnMatch(ruleContext2);
  RuleContext ruleContext3=createRuleContext("scoreRule3");
  scoreHolder.addMediumConstraintMatch(ruleContext3,-30);
  scoreHolder.addMediumConstraintMatch(ruleContext3,-3);
  scoreHolder.addSoftConstraintMatch(createRuleContext("scoreRule4"),-4);
  assertEquals(HardMediumSoftScore.valueOf(-1000,-3,-4),scoreHolder.extractScore());
  if (constraintMatchEnabled) {
    assertEquals(4,scoreHolder.getConstraintMatchTotals().size());
  }
}
