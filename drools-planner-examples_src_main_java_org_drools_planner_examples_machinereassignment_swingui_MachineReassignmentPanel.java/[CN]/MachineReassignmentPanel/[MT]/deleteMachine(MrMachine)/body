{
  logger.info("Scheduling deleting of machine ({}).",machine.getLabel());
  solutionBusiness.doProblemFactChange(new ProblemFactChange(){
    public void doChange(    SolutionDirector solutionDirector){
      MachineReassignment machineReassignment=(MachineReassignment)solutionDirector.getWorkingSolution();
      WorkingMemory workingMemory=solutionDirector.getWorkingMemory();
      for (      MrProcessAssignment processAssignment : machineReassignment.getProcessAssignmentList()) {
        if (ObjectUtils.equals(processAssignment.getMachine(),machine)) {
          FactHandle processAssignmentHandle=workingMemory.getFactHandle(processAssignment);
          processAssignment.setMachine(null);
          workingMemory.retract(processAssignmentHandle);
        }
      }
      for (Iterator<MrMachine> it=machineReassignment.getMachineList().iterator(); it.hasNext(); ) {
        MrMachine workingMrMachine=it.next();
        if (ObjectUtils.equals(workingMrMachine,machine)) {
          FactHandle machineHandle=workingMemory.getFactHandle(workingMrMachine);
          workingMemory.retract(machineHandle);
          it.remove();
          break;
        }
      }
    }
  }
);
  updatePanel(solutionBusiness.getSolution());
}
