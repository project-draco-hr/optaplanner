{
  PlanningVariableDescriptor variableDescriptor;
  if (planningVariableName != null) {
    variableDescriptor=entityDescriptor.getPlanningVariableDescriptor(planningVariableName);
    if (variableDescriptor == null) {
      throw new IllegalArgumentException("The valueSelectorConfig (" + this + ") has a planningVariableName ("+ planningVariableName+ ") for planningEntityClass ("+ entityDescriptor.getPlanningEntityClass()+ ") that is not annotated as a planningVariable.\n"+ "Check your planningEntity implementation's annotated methods.");
    }
  }
 else {
    Collection<PlanningVariableDescriptor> planningVariableDescriptors=entityDescriptor.getPlanningVariableDescriptors();
    if (planningVariableDescriptors.size() != 1) {
      throw new IllegalArgumentException("The valueSelectorConfig (" + this + ") has no configured planningVariableName ("+ planningVariableName+ ") for planningEntityClass ("+ entityDescriptor.getPlanningEntityClass()+ ") and because there are multiple in the planningVariableNameSet ("+ entityDescriptor.getPlanningVariableNameSet()+ "), it can not be deducted automatically.");
    }
    variableDescriptor=planningVariableDescriptors.iterator().next();
  }
  return variableDescriptor;
}
