{
  solver.addEventListener(new SolverEventListener(){
    public void bestSolutionChanged(    BestSolutionChangedEvent event){
      if (solver.isEveryProblemFactChangeProcessed()) {
        final Solution latestBestSolution=event.getNewBestSolution();
        SwingUtilities.invokeLater(new Runnable(){
          public void run(){
            guiScoreDirector.setWorkingSolution(latestBestSolution);
            solverAndPersistenceFrame.bestSolutionChanged();
          }
        }
);
      }
    }
  }
);
}
