{
  Object trailingEntity=null;
  PlanningEntityDescriptor entityDescriptor=planningVariableDescriptor.getPlanningEntityDescriptor();
  for (  Object suspectedTrailingEntity : entityDescriptor.extractEntities(scoreDirector.getWorkingSolution())) {
    if (planningVariableDescriptor.getValue(suspectedTrailingEntity) == planningEntity) {
      if (trailingEntity != null) {
        throw new IllegalStateException("The planningEntity (" + planningEntity + ") has multiple trailing entities ("+ trailingEntity+ ") ("+ suspectedTrailingEntity+ ") pointing to it for chained planningVariable ("+ planningVariableDescriptor.getVariableName()+ ").");
      }
      trailingEntity=suspectedTrailingEntity;
    }
  }
  return trailingEntity;
}
