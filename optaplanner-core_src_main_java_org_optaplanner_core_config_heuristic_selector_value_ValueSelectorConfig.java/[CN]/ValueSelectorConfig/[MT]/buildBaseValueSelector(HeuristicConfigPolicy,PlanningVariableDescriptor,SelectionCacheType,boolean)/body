{
  ValueRangeDescriptor valueRangeDescriptor=variableDescriptor.getValueRangeDescriptor();
  if (minimumCacheType == SelectionCacheType.SOLVER) {
    throw new IllegalArgumentException("The minimumCacheType (" + minimumCacheType + ") is not yet supported. Please use "+ SelectionCacheType.PHASE+ " instead.");
  }
  if (valueRangeDescriptor.isEntityIndependent()) {
    if (variableDescriptor.isValueRangeImmutableDuringPhase()) {
      if (minimumCacheType.compareTo(SelectionCacheType.PHASE) < 0) {
        minimumCacheType=SelectionCacheType.PHASE;
      }
    }
 else {
      if (minimumCacheType.compareTo(SelectionCacheType.STEP) < 0) {
        minimumCacheType=SelectionCacheType.STEP;
      }
    }
    return new FromSolutionPropertyValueSelector((EntityIndependentValueRangeDescriptor)valueRangeDescriptor,minimumCacheType,randomSelection);
  }
 else {
    return new FromEntityPropertyValueSelector(valueRangeDescriptor,randomSelection);
  }
}
