{
  StringWriter configWriter=new StringWriter();
  try {
    template.process(model,configWriter);
  }
 catch (  IOException e) {
    throw new IllegalArgumentException("Can not write to configWriter.",e);
  }
catch (  TemplateException e) {
    throw new IllegalArgumentException("Can not process Freemarker template to configWriter.",e);
  }
 finally {
    IOUtils.closeQuietly(configWriter);
  }
  StringReader configReader=new StringReader(configWriter.toString());
  return this.configure(configReader);
}
