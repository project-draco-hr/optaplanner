{
  VrpStandstill previousStandstill=sourceCustomer.getPreviousStandstill();
  Integer milliDepartureTime=(previousStandstill instanceof VrpTimeWindowedCustomer) ? ((VrpTimeWindowedCustomer)previousStandstill).getDepartureTime() : null;
  VrpTimeWindowedCustomer shadowCustomer=sourceCustomer;
  Integer milliArrivalTime=calculateMilliArrivalTime(shadowCustomer,milliDepartureTime);
  while (shadowCustomer != null && ObjectUtils.notEqual(shadowCustomer.getMilliArrivalTime(),milliArrivalTime)) {
    scoreDirector.beforeVariableChanged(shadowCustomer,"milliArrivalTime");
    shadowCustomer.setMilliArrivalTime(milliArrivalTime);
    scoreDirector.afterVariableChanged(shadowCustomer,"milliArrivalTime");
    milliDepartureTime=shadowCustomer.getDepartureTime();
    shadowCustomer=shadowCustomer.getNextCustomer();
    milliArrivalTime=calculateMilliArrivalTime(shadowCustomer,milliDepartureTime);
  }
}
