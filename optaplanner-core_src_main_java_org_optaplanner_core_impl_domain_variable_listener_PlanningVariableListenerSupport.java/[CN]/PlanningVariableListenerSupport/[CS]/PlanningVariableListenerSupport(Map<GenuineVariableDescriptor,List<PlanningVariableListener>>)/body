{
  this.variableListenerMap=variableListenerMap;
  entityVariableListenerMap=new LinkedHashMap<EntityDescriptor,List<PlanningVariableListener>>(variableListenerMap.size());
  for (  Map.Entry<GenuineVariableDescriptor,List<PlanningVariableListener>> entry : variableListenerMap.entrySet()) {
    EntityDescriptor entityDescriptor=entry.getKey().getEntityDescriptor();
    List<PlanningVariableListener> variableListenerList=entry.getValue();
    List<PlanningVariableListener> entityVariableListenerList=entityVariableListenerMap.get(entityDescriptor);
    if (entityVariableListenerList == null) {
      entityVariableListenerList=new ArrayList<PlanningVariableListener>(variableListenerList);
      entityVariableListenerMap.put(entityDescriptor,entityVariableListenerList);
    }
 else {
      entityVariableListenerList.addAll(variableListenerList);
    }
  }
}
