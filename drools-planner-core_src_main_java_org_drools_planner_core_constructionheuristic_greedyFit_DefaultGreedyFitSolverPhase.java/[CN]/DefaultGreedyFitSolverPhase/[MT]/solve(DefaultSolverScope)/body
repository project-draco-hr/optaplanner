{
  GreedyFitSolverPhaseScope solverPhaseScope=new GreedyFitSolverPhaseScope(solverScope);
  phaseStarted(solverPhaseScope);
  GreedyFitStepScope stepScope=createNextStepScope(solverPhaseScope,null);
  Iterator it=greedyPlanningEntitySelector.iterator();
  while (!termination.isPhaseTerminated(solverPhaseScope) && it.hasNext()) {
    Object planningEntity=it.next();
    stepScope.setPlanningEntity(planningEntity);
    beforeDeciding(stepScope);
    greedyDecider.decideNextStep(stepScope);
    Move nextStep=stepScope.getStep();
    if (nextStep == null) {
      logger.warn("    Cancelled step index ({}), time spend ({}): there is no doable move. Terminating phase early.",stepScope.getStepIndex(),solverPhaseScope.calculateSolverTimeMillisSpend());
      break;
    }
    nextStep.doMove(stepScope.getScoreDirector());
    solverPhaseScope.getWorkingSolution().setScore(stepScope.getScore());
    if (assertStepScoreIsUncorrupted) {
      solverPhaseScope.assertWorkingScore(stepScope.getScore());
    }
    if (!it.hasNext()) {
      stepScope.setSolutionInitialized(true);
    }
    stepTaken(stepScope);
    stepScope=createNextStepScope(solverPhaseScope,stepScope);
  }
  phaseEnded(solverPhaseScope);
}
