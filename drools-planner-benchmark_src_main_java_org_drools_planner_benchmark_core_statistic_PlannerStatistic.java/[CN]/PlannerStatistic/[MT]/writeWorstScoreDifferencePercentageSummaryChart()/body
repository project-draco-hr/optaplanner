{
  DefaultCategoryDataset dataset=new DefaultCategoryDataset();
  for (  SolverBenchmark solverBenchmark : plannerBenchmark.getSolverBenchmarkList()) {
    String solverLabel=solverBenchmark.getNameWithFavoriteSuffix();
    for (    SingleBenchmark singleBenchmark : solverBenchmark.getSingleBenchmarkList()) {
      if (singleBenchmark.isSuccess()) {
        double graphValue=singleBenchmark.getWorstScoreDifferencePercentage().getLastPercentageLevel();
        String planningProblemLabel=singleBenchmark.getProblemBenchmark().getName();
        dataset.addValue(graphValue,solverLabel,planningProblemLabel);
      }
    }
  }
  CategoryPlot plot=createBarChartPlot(dataset,"Worst score difference percentage",new DecimalFormat("0.00%"));
  JFreeChart chart=new JFreeChart("Worst score difference percentage summary (higher is better)",JFreeChart.DEFAULT_TITLE_FONT,plot,true);
  BufferedImage chartImage=chart.createBufferedImage(1024,768);
  worstScoreDifferencePercentageSummaryFile=new File(plannerBenchmark.getBenchmarkReportDirectory(),"worstScoreDifferencePercentageSummary.png");
  OutputStream out=null;
  try {
    out=new FileOutputStream(worstScoreDifferencePercentageSummaryFile);
    ImageIO.write(chartImage,"png",out);
  }
 catch (  IOException e) {
    throw new IllegalArgumentException("Problem writing worstScoreDifferencePercentageSummaryFile: " + worstScoreDifferencePercentageSummaryFile,e);
  }
 finally {
    IOUtils.closeQuietly(out);
  }
}
