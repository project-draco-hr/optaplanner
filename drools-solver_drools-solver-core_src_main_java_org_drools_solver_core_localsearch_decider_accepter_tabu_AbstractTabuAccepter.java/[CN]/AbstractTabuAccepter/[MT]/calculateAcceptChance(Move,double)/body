{
  Collection<? extends Object> tabus=findTabu(move);
  int maximumTabuStepIndex=-1;
  for (  Object tabu : tabus) {
    Integer tabuStepIndexInteger=tabuToStepIndexMap.get(tabu);
    if (tabuStepIndexInteger != null) {
      maximumTabuStepIndex=Math.max(tabuStepIndexInteger,maximumTabuStepIndex);
    }
  }
  if (maximumTabuStepIndex < 0) {
    return 1.0;
  }
  int tabuStepCount=localSearchSolver.getStepIndex() - maximumTabuStepIndex - 1;
  if (tabuStepCount < completeTabuSize) {
    logger.debug("    Proposed move ({}) is complete tabu.",move);
    return 0.0;
  }
  double acceptChance=calculatePartialTabuAcceptChance(tabuStepCount - completeTabuSize);
  logger.debug("    Proposed move ({}) is partially tabu with accept chance ({}).",move,acceptChance);
  return acceptChance;
}
