{
  timeWindowed=schedule instanceof VrpTimeWindowedSchedule;
  List<VrpVehicle> vehicleList=schedule.getVehicleList();
  vehicleDemandMap=new HashMap<VrpVehicle,Integer>(vehicleList.size());
  for (  VrpVehicle vehicle : vehicleList) {
    vehicleDemandMap.put(vehicle,0);
  }
  hardScore=0;
  softScore=0;
  for (  VrpCustomer customer : schedule.getCustomerList()) {
    insertPreviousStandstill(customer);
    insertVehicle(customer);
    if (timeWindowed) {
      insertMilliArrivalTime((VrpTimeWindowedCustomer)customer);
    }
  }
}
