{
  if (environmentMode != EnvironmentMode.PRODUCTION) {
    if (randomSeed != null) {
      abstractSolver.setRandomSeed(randomSeed);
    }
 else {
      abstractSolver.setRandomSeed(DEFAULT_RANDOM_SEED);
    }
  }
  buildMeta();
  abstractSolver.setRuleBase(buildRuleBase());
  ScoreDefinition scoreDefinition=scoreDefinitionConfig.buildScoreDefinition();
  abstractSolver.setScoreDefinition(scoreDefinition);
  abstractSolver.setScoreCalculator(scoreDefinitionConfig.buildScoreCalculator());
  abstractSolver.setStartingSolutionInitializer(buildStartingSolutionInitializer());
  abstractSolver.setBestSolutionRecaller(new BestSolutionRecaller());
  return scoreDefinition;
}
