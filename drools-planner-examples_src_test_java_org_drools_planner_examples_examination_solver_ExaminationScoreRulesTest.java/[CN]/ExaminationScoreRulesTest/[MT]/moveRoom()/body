{
  DefaultSolverScope solverScope=new DefaultSolverScope();
  LocalSearchSolverPhaseScope localSearchSolverPhaseScope=new LocalSearchSolverPhaseScope(solverScope);
  solverScope.setRuleBase(buildRuleBase());
  solverScope.setWorkingScoreCalculator(new DefaultHardAndSoftConstraintScoreCalculator());
  Examination examination=(Examination)new ExaminationDaoImpl().readSolution(getClass().getResourceAsStream("/org/drools/planner/examples/examination/data/testExaminationScoreRules.xml"));
  solverScope.setWorkingSolution(examination);
  WorkingMemory workingMemory=localSearchSolverPhaseScope.getWorkingMemory();
  localSearchSolverPhaseScope.calculateScoreFromWorkingMemory();
  Exam exam=findExamById(examination,123L);
  Room room=findRoomById(examination,0L);
  ExaminationMoveHelper.moveRoom(workingMemory,exam,room);
  Score score=localSearchSolverPhaseScope.calculateScoreFromWorkingMemory();
  localSearchSolverPhaseScope.assertWorkingScore(score);
}
