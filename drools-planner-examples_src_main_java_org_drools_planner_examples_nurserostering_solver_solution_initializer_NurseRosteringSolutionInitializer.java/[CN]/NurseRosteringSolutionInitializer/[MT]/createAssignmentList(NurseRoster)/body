{
  List<Shift> shiftList=nurseRoster.getShiftList();
  List<ShiftDate> shiftDateList=nurseRoster.getShiftDateList();
  List<ShiftInitializationWeight> shiftInitializationWeightList=new ArrayList<ShiftInitializationWeight>(shiftList.size());
  for (  Shift shift : shiftList) {
    shiftInitializationWeightList.add(new ShiftInitializationWeight(nurseRoster,shift));
  }
  Collections.sort(shiftInitializationWeightList);
  List<ShiftAssignment> shiftAssignmentList=new ArrayList<ShiftAssignment>(shiftDateList.size() * nurseRoster.getEmployeeList().size());
  int assignmentId=0;
  for (  ShiftInitializationWeight shiftInitializationWeight : shiftInitializationWeightList) {
    Shift shift=shiftInitializationWeight.getShift();
    for (int i=0; i < shift.getRequiredEmployeeSize(); i++) {
      ShiftAssignment shiftAssignment=new ShiftAssignment();
      shiftAssignment.setId((long)assignmentId);
      shiftAssignment.setShift(shift);
      shiftAssignment.setIndexInShift(i);
      shiftAssignmentList.add(shiftAssignment);
      assignmentId++;
    }
  }
  return shiftAssignmentList;
}
