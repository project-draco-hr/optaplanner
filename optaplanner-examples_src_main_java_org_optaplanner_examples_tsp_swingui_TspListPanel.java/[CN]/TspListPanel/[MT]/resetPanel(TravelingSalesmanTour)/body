{
  removeAll();
  if (tour.getVisitList().size() > 1000) {
    JLabel tooBigLabel=new JLabel("The dataset is too big to show.");
    add(tooBigLabel);
    return;
  }
  Domicile domicile=tour.getDomicile();
  add(new JLabel(domicile.getLocation().toString()));
  Map<Standstill,Visit> nextVisitMap=new LinkedHashMap<Standstill,Visit>();
  List<Visit> unassignedVisitList=new ArrayList<Visit>();
  for (  Visit visit : tour.getVisitList()) {
    if (visit.getPreviousStandstill() != null) {
      nextVisitMap.put(visit.getPreviousStandstill(),visit);
    }
 else {
      unassignedVisitList.add(visit);
    }
  }
  Visit lastVisit=null;
  for (Visit visit=nextVisitMap.get(domicile); visit != null; visit=nextVisitMap.get(visit)) {
    addVisitButton(tour,visit);
    lastVisit=visit;
  }
  if (lastVisit != null) {
    JPanel backToDomicilePanel=new JPanel(new GridLayout(1,2));
    backToDomicilePanel.add(new JLabel("Back to " + domicile.getLocation()));
    JLabel distanceLabel=new JLabel(lastVisit.getDistanceTo(domicile) + " " + tour.getDistanceUnitOfMeasurement());
    distanceLabel.setHorizontalAlignment(SwingConstants.RIGHT);
    backToDomicilePanel.add(distanceLabel);
    add(backToDomicilePanel);
  }
  add(new JLabel("Unassigned"));
  for (  Visit visit : unassignedVisitList) {
    addVisitButton(tour,visit);
  }
}
