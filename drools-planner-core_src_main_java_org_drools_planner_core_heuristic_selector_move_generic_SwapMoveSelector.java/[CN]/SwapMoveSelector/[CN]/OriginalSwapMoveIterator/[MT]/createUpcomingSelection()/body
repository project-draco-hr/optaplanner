{
  if (!rightEntityIterator.hasNext()) {
    if (!leftEntityIterator.hasNext()) {
      upcomingSelection=null;
      return;
    }
    leftEntity=leftEntityIterator.next();
    if (!leftEqualsRight) {
      rightEntityIterator=rightEntitySelector.listIterator();
      if (!rightEntityIterator.hasNext()) {
        upcomingSelection=null;
        return;
      }
    }
 else {
      if (!leftEntityIterator.hasNext()) {
        upcomingSelection=null;
        return;
      }
      rightEntityIterator=rightEntitySelector.listIterator(leftEntityIterator.nextIndex());
    }
  }
  Object rightEntity=rightEntityIterator.next();
  upcomingSelection=anyChained ? new ChainedSwapMove(variableDescriptors,leftEntity,rightEntity) : new SwapMove(variableDescriptors,leftEntity,rightEntity);
}
