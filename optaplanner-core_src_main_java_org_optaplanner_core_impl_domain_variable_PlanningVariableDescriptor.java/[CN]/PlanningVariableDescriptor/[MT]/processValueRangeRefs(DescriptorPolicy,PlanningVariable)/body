{
  String[] valueRangeProviderRefs=planningVariableAnnotation.valueRangeProviderRefs();
  if (ArrayUtils.isEmpty(valueRangeProviderRefs)) {
    throw new IllegalArgumentException("The planningEntityClass (" + entityDescriptor.getPlanningEntityClass() + ") has a "+ PlanningVariable.class.getSimpleName()+ " annotated property ("+ variablePropertyAccessor.getName()+ ") that has no valueRangeProviderRefs ("+ Arrays.toString(valueRangeProviderRefs)+ ").");
  }
  List<PlanningValueRangeDescriptor> valueRangeDescriptorList=new ArrayList<PlanningValueRangeDescriptor>(valueRangeProviderRefs.length);
  boolean addNullInValueRange=nullable && valueRangeProviderRefs.length == 1;
  for (  String valueRangeProviderRef : valueRangeProviderRefs) {
    valueRangeDescriptorList.add(buildValueRangeDescriptor(descriptorPolicy,valueRangeProviderRef,addNullInValueRange));
  }
  if (valueRangeDescriptorList.size() == 1) {
    valueRangeDescriptor=valueRangeDescriptorList.get(0);
  }
 else {
    valueRangeDescriptor=new CompositePlanningValueRangeDescriptor(this,nullable,valueRangeDescriptorList);
  }
}
