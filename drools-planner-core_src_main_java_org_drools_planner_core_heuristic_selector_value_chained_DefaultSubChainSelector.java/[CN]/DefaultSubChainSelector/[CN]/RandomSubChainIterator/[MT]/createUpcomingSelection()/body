{
  int anchorTrailingChainListIndex=workingRandom.nextInt(anchorTrailingChainList.size());
  List<Object> anchorTrailingChain=anchorTrailingChainList.get(anchorTrailingChainListIndex).getEntityList();
  int n=Math.min(maximumSubChainSize,anchorTrailingChain.size()) - minimumSubChainSize + 1;
  long size=((long)n) * (((long)n) + 1L) / 2L;
  long sizeIndex=RandomUtils.nextLong(workingRandom,size);
  int fromIndex=0;
  long subChainSize=sizeIndex;
  long maxSize=(long)n;
  while (subChainSize >= maxSize) {
    subChainSize-=maxSize;
    fromIndex++;
    maxSize--;
  }
  int toIndex=fromIndex + ((int)subChainSize) + minimumSubChainSize;
  upcomingSelection=new SubChain(anchorTrailingChain.subList(fromIndex,toIndex));
}
