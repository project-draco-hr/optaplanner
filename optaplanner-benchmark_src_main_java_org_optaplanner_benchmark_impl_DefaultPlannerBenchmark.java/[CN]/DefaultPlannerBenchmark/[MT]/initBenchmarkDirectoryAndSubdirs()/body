{
  if (benchmarkDirectory == null) {
    throw new IllegalArgumentException("The benchmarkDirectory (" + benchmarkDirectory + ") must not be null.");
  }
  benchmarkDirectory.mkdirs();
  String timestamp=new SimpleDateFormat("yyyy-MM-dd_HHmmss").format(startingTimestamp);
  if (StringUtils.isEmpty(name)) {
    name=timestamp;
  }
  benchmarkReportDirectory=new File(benchmarkDirectory,timestamp);
  benchmarkReportDirectory.mkdirs();
  benchmarkOutputDirectory=new File(benchmarkReportDirectory,"resume");
  benchmarkOutputDirectory.mkdirs();
  try {
    FileUtils.write(new File(getBenchmarkReportDirectory(),"resumeBenchmarkConfig.xml"),resumeConfig);
  }
 catch (  IOException ex) {
    throw new IllegalStateException("Error while writing benchmark configuration file" + " (" + resumeConfig + ").");
  }
}
