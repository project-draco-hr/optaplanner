{
  Field[] fields=fieldsCache.get(clazz);
  if (fields == null) {
    List<Field> fieldList=new LinkedList<Field>();
    getAllFields(clazz,fieldList);
    fields=fieldList.toArray(new Field[fieldList.size()]);
    fieldsCache.put(clazz,fields);
  }
  return fields;
}
