{
  double timeGradient=0.0;
  int totalHardScore=Math.max(0,endScore.getHardScore() - startScore.getHardScore());
  if (totalHardScore > 0) {
    int deltaHardScore=Math.max(0,score.getHardScore() - startScore.getHardScore());
    double hardTimeGradient=Math.min(1.0,(double)deltaHardScore / (double)totalHardScore);
    timeGradient+=(hardTimeGradient * hardScoreTimeGradientWeight);
  }
  int totalSoftScore=Math.max(0,endScore.getSoftScore() - startScore.getSoftScore());
  if (totalSoftScore > 0) {
    int deltaSoftScore=Math.max(0,score.getSoftScore() - startScore.getSoftScore());
    double softTimeGradient=Math.min(1.0,(double)deltaSoftScore / (double)totalSoftScore);
    timeGradient+=(softTimeGradient * (1.0 - hardScoreTimeGradientWeight));
  }
  return timeGradient;
}
